# Лабораторная работа
Разработать веб-приложение по теме ЖКХ с возможностью создания счетов, оплаты, расчета задолжностей.

## Механика работы программы
0. Создается договор (Contract)
0. Добавляется номер квартиры и номер договора или изменяется номер договора у квартиры (House)
    1. Не может быть две квартиры с одним договором
    2. При изменении договора опять же не должно быть квартиры с таким же договором
0. Создается счет для оплаты с указанием квартиры (Charge). Счет имеет два важных поля: value и valueWithSaldo (данное поле является суммой value из Счета и value из Saldo).
    1. Счет может быть всего один для одного и того же месяца и года
    2. При изменении или удалении счета не должно быть произведено оплат (Payments)
    3. Если в предыдущем месяце имеется сальдо (Saldo), то оно добавляется к счету при оплате.
    4. Оплата происходит по valueWithSaldo.
0. Оплачивается счет
    1. Если счет оплачен полностью, то флаг isPayment становится true и больше производить оплату по данному счету нельзя
    2. Если счет оплачен частично, то можно оплачивать сколько угодно, пока флаг isPayment не станет true
    3. Счет за предыдущие месяца нельзя оплатить
    4. Можно оплатить сумму больше, чем в выставленном счете. Положительный (не до конца оплатити счет) или отрицательный (переплата) остаток пойдет в сальдо (Saldo)
0. Процедуры по выводу красивых таблиц в базе данных

## Что использовалось
* Kotlin
* Postgresql
* Spring boot
* Hibernate
* Swagger

### Документация RESTful API
Документация представлена в формате OpenAPI, а именно с помощью Swagger по адресу
```http://localhost:8080/swagger-ui.html```

## Схема базы данных
![alt text](databaseNew.png "Схема базы данных")
